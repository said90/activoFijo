<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition template="./plantilla.xhtml">



            <ui:define name="content">
                <h:form style="align-content: center">
                    <p:panel style="width: 1300px;margin: 0 auto; text-align:center ">
                        <p:layout style="width: 100%; height: 280px">
                            <p:layoutUnit  position="center" 
                                           style="padding: 5px; text-align: justify;font-size: 14px" 
                                           size="600">


                                <p:panel header="Registro de Activos">
                                    <p:panelGrid columns="4" layout="grid" style="align-content: center;width: 100%;position:relative ">

                                        <p:outputLabel value="Seleccione un tipo de item"/>
                                        <p:selectOneMenu id="cboItem" value="#{asignacionActivoController.asignacion.idItem}" 
                                                         converter="entityConverter">
                                            <f:selectItem itemLabel="--- Seleccione Item ---" itemValue="#{null}"/>
                                            <f:selectItems value="#{asignacionActivoController.lstItem}"
                                                           itemLabel="#{item.item}"
                                                           var="item"
                                                           itemValue="#{item}"/>
                                        </p:selectOneMenu>

                                        <p:outputLabel value="Marca"/>
                                        <p:inputText value="#{asignacionActivoController.asignacion.marca}"/>
                                        <p:outputLabel value="Modelo"/>
                                        <p:inputText value="#{asignacionActivoController.asignacion.modelo}"/>
                                        <p:outputLabel value="Serie"/>
                                        <p:inputText value="#{asignacionActivoController.asignacion.serie}"/>
                                        <p:outputLabel value="Inventario Antiguo"/>
                                        <p:inputText value="#{asignacionActivoController.asignacion.inventarioA}"/>
                                        <p:outputLabel value="Inventario Nuevo"/>
                                        <p:inputText value="#{asignacionActivoController.asignacion.inventarioN}"/>

                                    </p:panelGrid>
                                </p:panel>    

                                <p:commandButton  
                                    value="Registrar Activo" icon="ui-icon-pencil" actionListener="#{asignacionActivoController.registrarAsignacion()}">

                                </p:commandButton>
                            </p:layoutUnit>

                        </p:layout>

                        <div>

                        </div>


                        <p:dataTable var="asignacion"  value="#{asignacionActivoController.lstAsignacion}"
                                     emptyMessage="No hay productos en la base de datos"
                                     paginator="true" rows="5" paginatorPosition="bottom"
                                     paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks}
                                     {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     rowsPerPageTemplate="5" reflow="true"   widgetVar="data" >

                            <f:facet name="header" >
                                <p:outputPanel style="height: available">
                                    <h:outputText value="Buscar en todos los campos" style="padding-right: 20px"/>
                                    <p:inputText  id="globalFilter" onkeyup= "PF('data').filter()" placeholder="Ingrese cualquier palabra o numero"  style="width: 350px"/> 

                                </p:outputPanel>
                                <p:separator/>
                                <BR/>

                            </f:facet>

                            <p:column headerText="Item"  style="text-align: center">
                                <p:outputLabel value="#{asignacion.idItem.item}"/>
                            </p:column>
                            <p:column headerText="Marca"  style="text-align: center">
                                <p:outputLabel value="#{asignacion.marca}"/>

                            </p:column>
                            <p:column headerText="Modelo"  style="text-align: center">
                                <p:outputLabel value="#{asignacion.modelo}"/>
                            </p:column>

                            <p:column headerText="Serie"  style="text-align: center">
                                <p:outputLabel value="#{asignacion.serie}"/>
                            </p:column>

                            <p:column headerText="Inventario Antig."  style="text-align: center">
                                <p:outputLabel value="#{asignacion.inventarioA}"/>
                            </p:column>

                            <p:column headerText="Inventario Nuevo"  style="text-align: center">
                                <p:outputLabel value="#{asignacion.inventarioN}"/>
                            </p:column>



                        </p:dataTable>
                    </p:panel>
                </h:form>

                <p:dialog></p:dialog>
            </ui:define>

        </ui:composition>

    </body>
</html>
